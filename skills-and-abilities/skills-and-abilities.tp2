/*************************************************************************/
///////////////////////////////////////////////////////////////////////////
// Skills and Abilities by Grammarsalad and morpheus562                  //
///////////////////////////////////////////////////////////////////////////
/*************************************************************************/

BACKUP ~skills-and-abilities/backup~
AUTHOR ~Grammarsalad and morpheus562~

VERSION ~v0.2.2-alpha~
README ~skills-and-abilities/readme.html~
AUTO_EVAL_STRINGS

ALWAYS
	INCLUDE ~skills-and-abilities/lib/always.tph~
END

AUTO_TRA ~skills-and-abilities/languages/%s~
LANGUAGE ~English~
         ~english~
         ~skills-and-abilities/languages/english/setup.tra~
         ~skills-and-abilities/languages/english/barbarian.tra~
         ~skills-and-abilities/languages/english/bard.tra~
         ~skills-and-abilities/languages/english/paladin.tra~
         ~skills-and-abilities/languages/english/monk.tra~
         ~skills-and-abilities/languages/english/proficiency_descriptions.tra~
         ~skills-and-abilities/languages/english/ranger.tra~
         ~skills-and-abilities/languages/english/strength.tra~
         ~skills-and-abilities/languages/english/wizard_slayer.tra~
         ~skills-and-abilities/languages/english/hla_descriptions.tra~

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// Class Skills Updates (Group 1)                                        //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
// Assign Skills to Bards (EEex Required)                                //
///////////////////////////////////////////////////////////////////////////

BEGIN @11 DESIGNATED 11 SUBCOMPONENT @10 GROUP @1 LABEL SkillsAndAbilitiesBard1 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

OUTER_SET bard_skill=0 // Add Pick Locks
INCLUDE ~skills-and-abilities/components/class_skills/set_bard_skills.tpa~
INCLUDE ~skills-and-abilities/components/item_updates_bard.tpa~

////////////////////////////////////////////////////

BEGIN @12 DESIGNATED 12 SUBCOMPONENT @10 GROUP @1 LABEL SkillsAndAbilitiesBard2 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

OUTER_SET bard_skill=1 // Add Pick Locks and Find/Disarm Traps
INCLUDE ~skills-and-abilities/components/class_skills/set_bard_skills.tpa~
INCLUDE ~skills-and-abilities/components/item_updates_bard.tpa~

///////////////////////////////////////////////////////////////////////////
// Assign Skills to Monks (EEex Required)                                //
///////////////////////////////////////////////////////////////////////////
BEGIN @20 DESIGNATED 20 GROUP @1 LABEL SkillsAndAbilitiesMonk 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

INCLUDE ~skills-and-abilities/components/class_skills/set_monk_skills.tpa~
INCLUDE ~skills-and-abilities/components/item_updates_monk.tpa~

///////////////////////////////////////////////////////////////////////////
// Add New Monk Abilities                                                //
///////////////////////////////////////////////////////////////////////////
BEGIN @70 DESIGNATED 70 GROUP @1 LABEL SkillsAndAbilitiesMonk2 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000

INCLUDE ~skills-and-abilities/components/class_skills/monk_updates.tpa~

/*
///////////////////////////////////////////////////////////////////////////
// 1e Barbarians (EEex Required)                                         //
///////////////////////////////////////////////////////////////////////////
// Add Hide in Natural Surroundings, Detect Illusions, with option to lose barbarian rage (1e AD&D)
// Setting skills like a Thief will lock up the level up screen.
// Modify class description
// use REPLACE_TEXTUALLY to update set trap and track descriptions (check mods--Trap Revisions, what else?)
// Tracking tras for areas in BG/IWD???

////////////////////////////////////////////////////
//Add Set Natural Snares
BEGIN @31 DESIGNATED 31 SUBCOMPONENT @30 GROUP @1 LABEL SkillsAndAbilitiesBarb1
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet iwdee~) @3000
OUTER_SET barb_trap=1 // set natural snares

INCLUDE ~skills-and-abilities/components/class_skills/set_barbarian_skills.tpa~

////////////////////////////////////////////////////
//Add Hide in Natural Settings (EEex required)
BEGIN @32 DESIGNATED 32 SUBCOMPONENT @30 GROUP @1 LABEL SkillsAndAbilitiesBarb2
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet iwdee~) @3000
OUTER_SET barb_trap=1 // set natural snares
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!
OUTER_SET barb_hide=1 // barb hide

INCLUDE ~skills-and-abilities/components/class_skills/set_barbarian_skills.tpa~

////////////////////////////////////////////////////
//Add Detect Illusions as a thief (EEex required)

////////////////////////////////////////////////////
//Add Feral Senses (detect illusions as a spell like ability)

////////////////////////////////////////////////////
//Add Feral Senses (detect illusions as a thief-like ability)

//keep rage
BEGIN @31 DESIGNATED 31 SUBCOMPONENT @30 GROUP @1 LABEL SkillsAndAbilitiesBarb2
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

OUTER_SET barb_rage=1 // Keep rage

INCLUDE ~skills-and-abilities/components/class_skills/set_barbarian_skills.tpa~
////////////////////////////////////////////////////

//remove rage
BEGIN @32 DESIGNATED 32 SUBCOMPONENT @30 GROUP @1 LABEL SkillsAndAbilitiesBarb2
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

OUTER_SET barb_rage=0 // Remove rage

INCLUDE ~skills-and-abilities/components/class_skills/set_barbarian_skills.tpa~

////////////////////////////////////////////////////

//Feral Senses
BEGIN @33 DESIGNATED 33 SUBCOMPONENT @30 GROUP @1 LABEL SkillsAndAbilitiesBarb2
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

OUTER_SET barb_rage=3 // Feral Senses

INCLUDE ~skills-and-abilities/components/class_skills/set_barbarian_skills.tpa~
*/

///////////////////////////////////////////////////////////////////////////
// Assign Skills to Rangers                                              //
///////////////////////////////////////////////////////////////////////////
BEGIN @40 DESIGNATED 40 GROUP @1 LABEL SkillsAndAbilitiesRang 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
// REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

// Modify class description
// use REPLACE_TEXTUALLY to update set trap descriptions (check mods--Trap Revisions, what else?) 

INCLUDE ~skills-and-abilities/components/class_skills/set_ranger_skills.tpa~

///////////////////////////////////////////////////////////////////////////
// Add Detect Illusion for Wizard Slayer (EEex Required)                 //
///////////////////////////////////////////////////////////////////////////
BEGIN @50 DESIGNATED 50 GROUP @1 LABEL SkillsAndAbilitiesDI1 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

INCLUDE ~skills-and-abilities/components/class_skills/set_wiz_slayer_skills.tpa~

///////////////////////////////////////////////////////////////////////////
// Assign New Abilities to Paladins                                      //
///////////////////////////////////////////////////////////////////////////
BEGIN @80 DESIGNATED 80 GROUP @1 LABEL SkillsAndAbilitiesPaladin1
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000

INCLUDE ~skills-and-abilities/components/class_skills/paladin_updates.tpa~

///////////////////////////////////////////////////////////////////////////
// Replace Inquisitor True Seeing for Detect Illusion (EEex Required)    //
///////////////////////////////////////////////////////////////////////////
BEGIN @60 DESIGNATED 60 GROUP @1 LABEL SkillsAndAbilitiesDI2
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

INCLUDE ~skills-and-abilities/components/class_skills/set_inquisitor_skills.tpa~

///////////////////////////////////////////////////////////////////////////
// Allow Inquisitor's to Cast Divine Spells                              //
///////////////////////////////////////////////////////////////////////////
BEGIN @100 DESIGNATED 100 GROUP @1 LABEL SkillsAndAbilitiesInquisitor1
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000

INCLUDE ~skills-and-abilities/components/class_skills/inquisitor_updates.tpa~

///////////////////////////////////////////////////////////////////////////
// Add New HLAs for ALL CLasses and Kits                                 //
///////////////////////////////////////////////////////////////////////////
BEGIN @90 DESIGNATED 90 GROUP @1 LABEL SkillsAndAbilitiesNewHLA
REQUIRE_PREDICATE (GAME_IS ~bg2ee eet~) @3000

INCLUDE ~skills-and-abilities/components/class_skills/new_hlas.tpa~

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// New Skills and Pseudo-Skills (Group 2)                                //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

/*
///////////////////////////////////////////////////////////////////////////
// First Component                                                       //
///////////////////////////////////////////////////////////////////////////
BEGIN @X DESIGNATED X 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!
*/

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// New Proficiencies (Group 3)                                           //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
// Update Weapon Fighting Styles                                         //
///////////////////////////////////////////////////////////////////////////
BEGIN @300 DESIGNATED 300 GROUP @3 LABEL SkillsAndAbilitiesWeapStyle
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000

LOAD_TRA ~skills-and-abilities/languages/%LANGUAGE%/proficiency_descriptions.tra~

INCLUDE ~skills-and-abilities/components/proficiencies/weapon_style_revisions.tpa~

///////////////////////////////////////////////////////////////////////////
// Overhaul Proficiency System - Add New Proficiencies and Weapon Styles //
///////////////////////////////////////////////////////////////////////////
BEGIN @301 DESIGNATED 301 GROUP @3 LABEL SkillsAndAbilitiesNewProf
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000

LOAD_TRA ~skills-and-abilities/languages/%LANGUAGE%/proficiency_descriptions.tra~

INCLUDE ~skills-and-abilities/components/proficiencies/proficiency_overhaul.tpa~

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// More Meaningful Stat Bonuses (Group 4)                                //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
// 2H Weapon Additional Strength Bonus                                   //
///////////////////////////////////////////////////////////////////////////
BEGIN @400 DESIGNATED 400 GROUP @4 LABEL SkillsAndAbilitiesSTR
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
//REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!

INCLUDE ~skills-and-abilities/components/stat_bonus/str_bonus.tpa~

///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
// Improved Turning/Wild Sense (Group 5)                                 //
///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

/*
///////////////////////////////////////////////////////////////////////////
// First Component                                                       //
///////////////////////////////////////////////////////////////////////////
BEGIN @X DESIGNATED X 
REQUIRE_PREDICATE (GAME_IS ~bgee bg2ee eet~) @3000
REQUIRE_PREDICATE FILE_EXISTS_IN_GAME ~EEex_Actionbar.lua~ @3002 //EEX required!
*/
